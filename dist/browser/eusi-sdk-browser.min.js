!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("eusi-sdk-core")):"function"==typeof define&&define.amd?define(["eusi-sdk-core"],t):e.eusiBrowserMin=t(e.eusiCore)}(this,function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){Object.keys(e).forEach(function(n){t.setRequestHeader(n,e[n])})},r=function(e){try{return JSON.parse(e.responseText)}catch(e){return{message:e}}},o=function(e){return e>=200&&e<300},u=function(e,u,i,c){return new Promise(function(s,f){var d=new XMLHttpRequest;d.open(e,u),n(Object.assign({"content-type":"application/json"},c),d),d.addEventListener("load",function(){o(d.status)?s(r(d)):f(r(d))}),d.send("object"===(void 0===i?"undefined":t(i))?JSON.stringify(i):i)})},i={get:function(e,t){var u=t.params,i=t.headers;return new Promise(function(t,c){var s=new XMLHttpRequest,f=""+e+function(e){var t=Object.keys(e||{}),n=t.reduce(function(n,r,o){return""+n+encodeURI(r+"="+e[r])+(o<t.length-1?"&":"")},"");return n&&"?"+n}(u);s.open("GET",f),n(i,s),s.addEventListener("load",function(){o(s.status)?t(r(s)):c(r(s))}),s.send()})},post:function(e,t){var n=t.body,r=t.headers;return u("POST",e,n,r)},put:function(e,t){var n=t.body,r=t.headers;return u("PUT",e,n,r)}};return function(t){var n=t.bucketKey,r=t.bucketSecret,o=t.deliveryApi;return e({deliveryApi:o,HttpService:i})({bucketKey:n,bucketSecret:r})}});
